
> https://juejin.cn/post/6964531365643550751
> 
> https://segmentfault.com/a/1190000041998615

# 导致`Redis`和数据库之间数据不一致的原因：

1、第一个操作成功，第二个操作失败

2、高并发场景

# 常见策略：

## 1、先更新数据库，再更新缓存

存在问题的场景：第一个操作成功，第二个操作失败。高并发场景。

## 2、先更新缓存，再更新数据库

存在问题的场景：第一个操作成功，第二个操作失败。缓存中会出现脏数据

## 3、先删除缓存，再更新数据库

存在问题的场景：第一个操作成功，第二个操作失败。高并发场景。

## 4、先更新数据库，再删除缓存（推荐）

# 一致性解决方案

1、缓存延迟双删

2、删除缓存重试

3、读取Binlog更新缓存

